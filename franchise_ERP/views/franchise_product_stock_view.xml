<?xml version="1.0" encoding="UTF-8"?>

<odoo>
    
    <!-- Form -->
    <record id="franchise_product_stock_form" model="ir.ui.view">
        <field name="name">Franchise Product Stock Tree</field>
        <field name="model">franchise.product.stock</field>
        <field name="arch" type="xml">
            <form>
                <group>
                    <field name="product_id" />
                </group>
                <group>
                    <field name="quantity" />
                    <field name="price" />
                    <field name="status" />
                </group>
            </form>
        </field>
    </record>

    <!-- List -->
    <record id="franchise_product_stock_tree" model="ir.ui.view">
        <field name="name">franchise.product.stock.tree</field>
        <field name="model">franchise.product.stock</field>
        <field name="arch" type="xml">
            <tree string="Channel" decoration-success="status=='ordered'"
                decoration-bf="status=='ordered'" decoration-danger="status in 'out of stock'">
                <field name="product_id" />
                <field name="quantity" />
                <field name="price" />
                <field name="status" />
                <button type="action" name="%(franchise_ERP.franchise_product_order_action)d"
                    title="Ordered" 
                    attrs="{'invisible': ['|',('status','=','in_stock'),('status', '=', 'ordered')]}"
                    icon="fa-check" />
            </tree>
        </field>
    </record>
</odoo>